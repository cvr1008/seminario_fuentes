data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
p3 <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip = NAME_LONG, data_id = NAME_LONG)
) +
coord_sf(crs = st_crs(3857)) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- (p1 + p2)/ p3 + plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y= Porcentaje_positivos,
x = NAME_LONG,
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
p3 <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip = NAME_LONG, data_id = NAME_LONG)
) +
coord_sf(crs = st_crs(3857)) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- (p1 + p2)/ p3 + plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- (p2 + p3)+ plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(desc(Porcentaje_positivos) -NAME_LONG),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- (p2 + p3)+ plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- (p2 + p3)+ plot_layout(heights = c(1, 2))
interactive_plot1
p2
combined_plot <- (p2 + p3)+ plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip = NAME_LONG, data_id = NAME_LONG,
text = paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos))
) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- (p2 + mapaMundo)+ plot_layout(heights = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- p2 + mapaMundo+ plot_layout(ncol = 2)
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72))
combined_plot <- p2 + mapaMundo+ plot_layout(ncol = 2)
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72),expand=FALSE)
p2
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72),expand=FALSE)+
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
p2
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72))+
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
p2
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = NAME_LONG,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
p2
interactive_plot1
combined_plot <- p2 + mapaMundo+ plot_layout(ncol = 2)
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- combined_plot <- p2 + mapaMundo + plot_layout(widths = c(2, 1))  # Más ancho para p2
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- p2 / mapaMundo + plot_layout(heights = c(1, 2))  # Más espacio vertical para el mapa
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- p2 + mapaMundo + plot_layout(widths = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
interactive_plot1<-mapa_interactivo <- ggplotly(interactive_plot1,tooltip = "text")
mapaMundo1 <- ggplotly(interactive_plot1,tooltip = "text")
mapaMundo1 <- ggplotly(mapaMundo,tooltip = "text")
combined_plot <- p2 + mapaMundo1 + plot_layout(widths = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip = Porcentaje_positivos,
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip = NAME_LONG, data_id = NAME_LONG,
text = paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos))
) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- p2 + mapaMundo1 + plot_layout(widths = c(1, 2))
combined_plot <- p2 + mapaMundo + plot_layout(widths = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
p2 <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos),
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG,
text = paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos))
) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- p2 + mapaMundo + plot_layout(widths = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG)) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- p2 + mapaMundo + plot_layout(widths = c(1, 2))
# Create the interactive plot
interactive_plot1 <- girafe(ggobj = combined_plot)
interactive_plot1 <- girafe_options(
interactive_plot1,
opts_hover(css = "fill:red;stroke:black;")
)
interactive_plot1
combined_plot <- graf_barras + mapaMundo + plot_layout(widths = c(1, 2)) +labs(title='Positivos en AMR por pais')
graf_barras <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos),
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG)) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- graf_barras + mapaMundo + plot_layout(widths = c(1, 2)) +labs(title='Positivos en AMR por pais')
#Creamos el mapa interactivo
mapaCombinado <- girafe(ggobj = combined_plot)
mapaCombinado <- girafe_options(
mapaCombinado,
opts_hover(css = "fill:red;stroke:black;")
)
mapaCombinado
graf_barras <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos),
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal()
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG)) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- graf_barras + mapaMundo + plot_layout(widths = c(1, 2)) +labs(title='Porcentaje de positivos en AMR por pais')
#Creamos el mapa interactivo
mapaCombinado <- girafe(ggobj = combined_plot)
mapaCombinado <- girafe_options(
mapaCombinado,
opts_hover(css = "fill:red;stroke:black;")
)
mapaCombinado
graf_barras <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos),
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(legend.position = "none")
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG)) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- graf_barras + mapaMundo + plot_layout(widths = c(1, 2)) +labs(title='Porcentaje de positivos en AMR por pais')
#Creamos el mapa interactivo
mapaCombinado <- girafe(ggobj = combined_plot)
mapaCombinado <- girafe_options(
mapaCombinado,
opts_hover(css = "fill:red;stroke:black;")
)
mapaCombinado
graf_barras <- ggplot(mapa_mundo_europa, aes(
y=Porcentaje_positivos,
x = reorder(NAME_LONG,-Porcentaje_positivos),
tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos),
data_id = NAME_LONG,
fill = NAME_LONG
)) +
geom_col_interactive(data = mapa_mundo_europa) +
coord_flip() +
theme_minimal() +
theme(legend.position = "none")+
labs(x='paises',y='porcentaje de positivos en AMR')
mapaMundo <- ggplot() +
geom_sf(data = mapa_mundo_europa, fill = "lightgrey", color = "lightgrey") +
geom_sf_interactive(
data = mapa_mundo_europa,
aes(fill = NAME_LONG, tooltip =  paste("País: ", NAME_LONG, "<br>Tasa de Positividad: ", Porcentaje_positivos), data_id = NAME_LONG)) +
coord_sf(xlim = c(-30, 50), ylim = c(35, 72), expand = FALSE) +
theme_void() +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
legend.position = "none"
)
combined_plot <- graf_barras + mapaMundo + plot_layout(widths = c(1, 2)) +labs(title='Porcentaje de positivos en AMR por pais')+
theme(plot.title = element_text(hjust = 0.5))#para modificar y centrar el titulo
#Creamos el mapa interactivo
mapaCombinado <- girafe(ggobj = combined_plot)
mapaCombinado <- girafe_options(
mapaCombinado,
opts_hover(css = "fill:red;stroke:black;")
)
mapaCombinado
combined_plot <- (graf_barras + mapaMundo) +
plot_layout(widths = c(1, 2)) +
plot_annotation(
title = 'Porcentaje de positivos en AMR por país',
theme = theme(plot.title = element_text(hjust = 0.5))
)
#Creamos el mapa interactivo
mapaCombinado <- girafe(ggobj = combined_plot)
mapaCombinado <- girafe_options(
mapaCombinado,
opts_hover(css = "fill:red;stroke:black;")
)
mapaCombinado
